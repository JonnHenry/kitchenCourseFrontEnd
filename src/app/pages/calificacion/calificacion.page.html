<div *ngIf="!comentarioCargado; else elseBlock">
  <app-sub-header titulo="Calificaci贸n"></app-sub-header>
  <ion-spinner name="crescent" class="spinnerCentrado"></ion-spinner>
</div>
<ng-template #elseBlock>

  <app-sub-header titulo="Calificaci贸n"></app-sub-header>

  <ion-content class="fondo ">
    <ion-card class="redondo margen ">
      <ion-card-header class="centrado">
        <br />
        <ion-card-title><b>Calificaci贸n</b></ion-card-title>
      </ion-card-header>

      <br />
      <br />

      <form #formCalificacion="ngForm" (ngSubmit)="comentUsuario(formCalificacion)">

        <ion-label>
          <h4 class="borde"><b>Comentario:</b></h4>
        </ion-label>
        <br />

        <ion-card>
          <ion-item>
            <ion-textarea type="text" rows="6" minlength="6" cols="20" placeholder="Ingrese su comentario..."
              [(ngModel)]="calUsuario.comentario" name="comentario" required #comentario="ngModel"></ion-textarea>
          </ion-item>

          <span *ngIf="comentario.touched && !comentario.valid">
            <ion-note color="danger">Es obligatorio dar un comentario</ion-note>
          </span>
        </ion-card>
        <br />


        <ion-label>
          <h4 class="borde"><b>Calificaci贸n:</b></h4>
        </ion-label>
        <br />

        <div class="centrado">
          <ion-rating [(ngModel)]="calUsuario.calificacion"  [rate]="calUsuario.calificacion" readonly="false"
            size="large" (hover)="onRateChange($event)" name="calificacion"  #calificacion="ngModel">
          </ion-rating>

          <br />
          <span *ngIf="calUsuario.touched && !calUsuario.valid">
            <ion-note color="danger">Debe de tener minimo 6 caracteres</ion-note>
          </span>
          <br />

        </div>


        <ion-button type="submit" class="boton" color="success" [disabled]="!formCalificacion.form.valid"
          expand="block">Enviar</ion-button>

      </form>
      <br />

    </ion-card>

  </ion-content>
</ng-template>